{"version":3,"sources":["services/journalService.js","reducers/journalsReducer.js","services/loginService.js","reducers/loginReducer.js","store.js","components/XEffectCalendar.js","components/DateList.js","components/journals/Todo.js","components/journals/BookSummary.js","components/journals/TodayWord.js","components/Journal.js","components/buttons/JournalFormButtons.js","components/AddAndUpdateJournal.js","components/MasterDetail.js","components/Login.js","services/userRegistrationService.js","components/UserRegistration.js","App.js","index.js"],"names":["baseUrl","token","getAll","a","config","headers","Authorization","axios","get","response","data","createJournal","journalObject","post","updateJournal","id","put","deleteJournal","delete","setToken","newToken","initialState","journals","displayedJournalId","journalToUpdateId","dispatch","journalService","updatedJournal","type","console","log","message","setDisplayedJournalId","journalsReducer","state","action","length","newJournals","concat","sort","x","y","date","map","journal","nextDisplayedJournalId","i","filter","login","credentials","loggedInUser","JSON","parse","window","localStorage","getItem","loginReducer","user","reducer","combineReducers","loginRedux","journalsRedux","store","createStore","composeWithDevTools","applyMiddleware","thunk","XEffectCalendar","useSelector","days","todos","todo","done","day","Date","setMinutes","getTimezoneOffset","push","tileClassName","cur","view","getTime","DateList","useDispatch","key","onClick","Todo","checked","onChange","displayedJournal","find","newTodo","newTodos","n","task","BookSummary","bookSummary","title","chapter","content","TodayWord","vocabulary","word","definition","Journal","reflection","book_summaries","words_of_today","FirstAddButton","inputArray","buttonText","event","preventDefault","append","AddButton","index","insert","DeleteButton","remove","MoveUpButton","swap","Math","max","MoveDownButton","min","fields","ItemButtons","padding","AddAndUpdateJournal","useState","error","setError","journalToUpdate","useForm","defaultValues","register","control","handleSubmit","errors","todosInputArray","useFieldArray","name","bookSummariesInputArray","todayWordsInputArray","errorText","onSubmit","newJournal","style","ref","required","item","pattern","summary","placeholder","MasterDetail","displayForm","setDisplayForm","addJournal","className","Login","username","password","loginService","setItem","stringify","alert","minLength","to","UserRegistration","history","useHistory","handleRegistration","userRegistrationService","includes","App","useEffect","removeItem","path","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.5f6d1e49.chunk.js","sourcesContent":["import axios from 'axios'\r\n\r\nconst baseUrl = '/api/journals'\r\n\r\nlet token = null\r\n\r\nconst setToken = newToken => {\r\n\ttoken = `bearer ${newToken}`\r\n}\r\n\r\nconst getAll = async () => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: token }\r\n\t}\r\n\tif (token) {\r\n\t\tconst response = await axios.get(baseUrl, config)\r\n\t\treturn response.data\r\n\t} else {\r\n\t\treturn []\r\n\t}\r\n}\r\n\r\nconst createJournal = async (journalObject) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: token }\r\n\t}\r\n\tconst response = await axios.post(baseUrl, journalObject, config)\r\n\treturn response.data\r\n}\r\n\r\nconst updateJournal = async (id, journalObject) => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: token }\r\n\t}\r\n\tconst response = await axios.put(`${baseUrl}/${id}`, journalObject, config)\r\n\treturn response.data\r\n}\r\n\r\nconst deleteJournal = async id => {\r\n\tconst config = {\r\n\t\theaders: { Authorization: token }\r\n\t}\r\n\tconst response = await axios.delete(`${baseUrl}/${id}`, config)\r\n\treturn response.data\r\n}\r\n\r\nexport default {\r\n\tgetAll,\r\n\tcreateJournal,\r\n\tupdateJournal,\r\n\tdeleteJournal,\r\n\tsetToken\r\n}","import journalService from '../services/journalService'\r\n\r\nconst initialState = {\r\n\tjournals: [],\r\n\tdisplayedJournalId: null,\r\n\tjournalToUpdateId: null\r\n}\r\n\r\nconst journalsReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\tcase 'INIT_JOURNALS':\r\n\t\treturn {\r\n\t\t\tjournals: action.data,\r\n\t\t\tdisplayedJournalId: action.data.length > 0 ? action.data[action.data.length-1].id : null,\r\n\t\t\tjournalToUpdateId: null\r\n\t\t}\r\n\tcase 'CREATE_JOURNAL': {\r\n\t\tconst newJournals = state.journals.concat(action.data)\r\n\t\t\t.sort((x, y) => x.date > y.date ? 1 : -1)\r\n\t\treturn {\r\n\t\t\tjournals: newJournals,\r\n\t\t\tdisplayedJournalId: action.data.id,\r\n\t\t\tjournalToUpdateId: null\r\n\t\t}\r\n\t}\r\n\tcase 'UPDATE_JOURNAL':\r\n\t\treturn {\r\n\t\t\tjournals: state.journals.map(journal => journal.id === action.data.id ? action.data : journal),\r\n\t\t\tdisplayedJournalId: action.data.id,\r\n\t\t\tjournalToUpdateId: null\r\n\t\t}\r\n\tcase 'DELETE_JOURNAL': {\r\n\t\tlet nextDisplayedJournalId = null\r\n\t\tfor (let i = 0; i < state.journals.length; i++) {\r\n\t\t\tconst journal = state.journals[i]\r\n\t\t\tif (journal.id === action.id) {\r\n\t\t\t\tif (i < state.journals.length - 1) {\r\n\t\t\t\t\tnextDisplayedJournalId = state.journals[i+1].id\r\n\t\t\t\t\tbreak\r\n\t\t\t\t} else if (i > 0) {\r\n\t\t\t\t\tnextDisplayedJournalId = state.journals[i-1].id\r\n\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn {\r\n\t\t\tjournals: state.journals.filter(journal => journal.id !== action.id),\r\n\t\t\tdisplayedJournalId: nextDisplayedJournalId,\r\n\t\t\tjournalToUpdateId: null\r\n\t\t}\r\n\t}\r\n\tcase 'SET_DISPLAYED_JOURNAL':\r\n\t\treturn {\r\n\t\t\t...state,\r\n\t\t\tdisplayedJournalId: action.id,\r\n\t\t\tjournalToUpdateId: null\r\n\t\t}\r\n\tcase 'SET_JOURNAL_TO_UPDATE':\r\n\t\treturn {\r\n\t\t\t...state,\r\n\t\t\tdisplayedJournalId: null,\r\n\t\t\tjournalToUpdateId: action.id\r\n\t\t}\r\n\tcase 'USER_LOGOUT':\r\n\t\treturn initialState\r\n\tdefault:\r\n\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const initializeJournals = () => {\r\n\treturn async dispatch => {\r\n\t\tconst journals = await journalService.getAll()\r\n\t\tjournals.sort((x, y) => x.date > y.date ? 1 : -1)\r\n\t\tdispatch({\r\n\t\t\ttype: 'INIT_JOURNALS',\r\n\t\t\tdata: journals\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const createJournal = (journalObject) => {\r\n\treturn async dispatch => {\r\n\t\ttry {\r\n\t\t\tconst newJournal = await journalService.createJournal(journalObject)\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: 'CREATE_JOURNAL',\r\n\t\t\t\tdata: newJournal\r\n\t\t\t})\r\n\t\t} catch (exception) {\r\n\t\t\tconsole.log(exception.message)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport const updateJournal = (id, journalObject) => {\r\n\treturn async dispatch => {\r\n\t\ttry {\r\n\t\t\tconst updatedJournal = await journalService.updateJournal(id, journalObject)\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: 'UPDATE_JOURNAL',\r\n\t\t\t\tdata: updatedJournal\r\n\t\t\t})\r\n\t\t} catch (exception) {\r\n\t\t\tconsole.log(exception.message)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport const deleteJournal = id => {\r\n\treturn async dispatch => {\r\n\t\ttry {\r\n\t\t\tawait journalService.deleteJournal(id)\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: 'DELETE_JOURNAL',\r\n\t\t\t\tid\r\n\t\t\t})\r\n\t\t} catch (exception) {\r\n\t\t\tconsole.log(exception.message)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport const setDisplayedJournalId = (id) => {\r\n\treturn {\r\n\t\ttype: 'SET_DISPLAYED_JOURNAL',\r\n\t\tid\r\n\t}\r\n}\r\n\r\nexport const setJournalToUpdateId = (id) => {\r\n\treturn {\r\n\t\ttype: 'SET_JOURNAL_TO_UPDATE',\r\n\t\tid\r\n\t}\r\n}\r\n\r\nexport default journalsReducer","import axios from 'axios'\r\nconst baseUrl = '/api/login'\r\n\r\nconst login = async credentials => {\r\n\tconst response = await axios.post(baseUrl, credentials)\r\n\treturn response.data\r\n}\r\n\r\nexport default { login }","import loginService from '../services/loginService'\r\n\r\nconst loggedInUser = JSON.parse(window.localStorage.getItem('loggedInMyJournalAppUser'))\r\n\r\nconst loginReducer = (state = loggedInUser, action) => {\r\n\tswitch (action.type) {\r\n\tcase 'USER_LOGIN':\r\n\t\treturn action.user\r\n\tcase 'USER_LOGOUT':\r\n\t\treturn null\r\n\tdefault:\r\n\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const userLogin = (username, password) => {\r\n\treturn async dispatch => {\r\n\t\ttry {\r\n\t\t\tconst user = await loginService.login({\r\n\t\t\t\tusername, password\r\n\t\t\t})\r\n\r\n\t\t\twindow.localStorage.setItem(\r\n\t\t\t\t'loggedInMyJournalAppUser', JSON.stringify(user)\r\n\t\t\t)\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: 'USER_LOGIN',\r\n\t\t\t\tuser\r\n\t\t\t})\r\n\t\t} catch (exception) {\r\n\t\t\tconsole.log(exception.message)\r\n\t\t\talert('wrong credentials')\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport const userLogout = () => {\r\n\twindow.localStorage.removeItem('loggedInMyJournalAppUser')\r\n\treturn {\r\n\t\ttype: 'USER_LOGOUT'\r\n\t}\r\n}\r\n\r\nexport default loginReducer","import { createStore, combineReducers, applyMiddleware } from 'redux'\r\nimport { composeWithDevTools } from 'redux-devtools-extension'\r\nimport thunk from 'redux-thunk'\r\n\r\nimport journalsReducer from './reducers/journalsReducer'\r\nimport loginReducer from './reducers/loginReducer'\r\n\r\nconst reducer = combineReducers({\r\n\tloginRedux: loginReducer,\r\n\tjournalsRedux: journalsReducer\r\n})\r\n\r\nconst store = createStore(\r\n\treducer,\r\n\tcomposeWithDevTools(\r\n\t\tapplyMiddleware(thunk)\r\n\t)\r\n)\r\n\r\nexport default store","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport Calendar from 'react-calendar'\r\n\r\nconst XEffectCalendar = () => {\r\n\tconst journals = useSelector(state => state.journalsRedux.journals)\r\n\r\n\tlet days = []\r\n\tif (journals.length > 0) {\r\n\t\tjournals.map(journal => {\r\n\t\t\tconst notDoneTodos = journal.todos.filter(todo => !todo.done)\r\n\t\t\tif (notDoneTodos.length === 0) {\r\n\t\t\t\tconst day = new Date(journal.date)\r\n\t\t\t\tday.setMinutes(day.getTimezoneOffset())\r\n\t\t\t\tdays.push(day)\r\n\t\t\t}\r\n\t\t\treturn null\r\n\t\t})\r\n\t}\r\n\r\n\tconst crossOffDays = ({ date, view }) => {\r\n\t\t// When compare days in sorted array 'days' and active days displayed in the calendar, 'cur' is the position of the first item in 'days' that is not yet smaller than the currently compared active day in the calendar.\r\n\t\tlet cur = 0\r\n\t\tif (view === 'month') {\r\n\t\t\tfor (let i = cur; i < days.length; i++) {\r\n\t\t\t\tconst day = days[i]\r\n\t\t\t\tif (day.getTime() === date.getTime()) {\r\n\t\t\t\t\tcur ++\r\n\t\t\t\t\treturn 'cross-off-day'\r\n\t\t\t\t} else if (day.getTime() < date.getTime()) {\r\n\t\t\t\t\tcur ++\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Calendar\r\n\t\t\ttileClassName={crossOffDays}/>\r\n\t)\r\n}\r\n\r\nexport default XEffectCalendar","import React from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { setDisplayedJournalId } from '../reducers/journalsReducer'\r\n\r\nconst DateList = () => {\r\n\tconst dispatch = useDispatch()\r\n\tconst journals = useSelector(state => state.journalsRedux.journals)\r\n\r\n\treturn (\r\n\t\t<ul>\r\n\t\t\t{journals && journals.length > 0 && journals.map(journal =>\r\n\t\t\t\t<div\r\n\t\t\t\t\tkey={journal.id}\r\n\t\t\t\t\tonClick={() => dispatch(setDisplayedJournalId(journal.id))}>\r\n\t\t\t\t\t{journal.date}\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</ul>\r\n\t)\r\n}\r\n\r\nexport default DateList","import React from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { updateJournal } from '../../reducers/journalsReducer'\r\n\r\nconst Todo = ({ todo }) => {\r\n\tconst dispatch = useDispatch()\r\n\tconst journals = useSelector(state => state.journalsRedux.journals)\r\n\tconst displayedJournalId = useSelector(state => state.journalsRedux.displayedJournalId)\r\n\r\n\tconst toggleCheck = () => {\r\n\t\tconst displayedJournal = displayedJournalId ? journals.find(journal => journal.id === displayedJournalId) : null\r\n\t\tconst newTodo = { ...todo, done: !todo.done }\r\n\t\tconst newTodos = displayedJournal.todos.map(n => n.id === todo.id ? newTodo : n)\r\n\r\n\t\tconst updatedJournal = { ...displayedJournal,  todos: newTodos }\r\n\t\tdispatch(updateJournal(displayedJournalId, updatedJournal))\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<input\r\n\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\tchecked={todo.done}\r\n\t\t\t\tonChange={toggleCheck}/>\r\n\t\t\t<label>{todo.task}</label>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Todo","import React from 'react'\r\n\r\nconst BookSummary = ({ bookSummary }) => (\r\n\t<li>\r\n\t\t<strong>{bookSummary.title}</strong>: Chapter <i>{bookSummary.chapter}</i> <br/>\r\n\t\t{bookSummary.content}\r\n\t</li>\r\n)\r\n\r\nexport default BookSummary\r\n","import React from 'react'\r\n\r\nconst TodayWord = ({ vocabulary }) => (\r\n\t<li>\r\n\t\t<strong>{vocabulary.word}</strong>: {vocabulary.definition}\r\n\t</li>\r\n)\r\n\r\nexport default TodayWord\r\n","import React from 'react'\r\nimport Todo from './journals/Todo'\r\nimport BookSummary from './journals/BookSummary'\r\nimport TodayWord from './journals/TodayWord'\r\n\r\nconst Journal = ({ journal }) => {\r\n\tconst todosDisplay = () => (\r\n\t\t<div>\r\n\t\t\t<h3>Todos</h3>\r\n\t\t\t<ul>\r\n\t\t\t\t{journal.todos.map(todo =>\r\n\t\t\t\t\t<Todo\r\n\t\t\t\t\t\tkey={todo.id}\r\n\t\t\t\t\t\ttodo={todo} />\r\n\t\t\t\t)}\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t)\r\n\r\n\tconst bookSummariesDisplay = () => (\r\n\t\t<div>\r\n\t\t\t<h3>Book Summary</h3>\r\n\t\t\t<ul>\r\n\t\t\t\t{journal.book_summaries.map(bookSummary =>\r\n\t\t\t\t\t<BookSummary\r\n\t\t\t\t\t\tkey={bookSummary.id}\r\n\t\t\t\t\t\tbookSummary={bookSummary} />\r\n\t\t\t\t)}\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t)\r\n\r\n\tconst todayWordsDisplay = () => (\r\n\t\t<div>\r\n\t\t\t<h3>Words of Today</h3>\r\n\t\t\t<ul>\r\n\t\t\t\t{journal.words_of_today.map(vocabulary =>\r\n\t\t\t\t\t<TodayWord\r\n\t\t\t\t\t\tkey={vocabulary.id}\r\n\t\t\t\t\t\tvocabulary={vocabulary} />\r\n\t\t\t\t)}\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t)\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div>\r\n\t\t\t\t<h2>{journal.date}</h2>\r\n\t\t\t</div>\r\n\r\n\t\t\t{journal.todos.length !== 0 && todosDisplay()}\r\n\r\n\t\t\t<div>\r\n\t\t\t\t<h3>How is your day?</h3>\r\n\t\t\t\t{journal.reflection}\r\n\t\t\t</div>\r\n\r\n\t\t\t{journal.book_summaries.length !== 0 && bookSummariesDisplay()}\r\n\r\n\t\t\t{journal.words_of_today.length !== 0 && todayWordsDisplay()}\r\n\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default Journal","import React from 'react'\r\n\r\nexport const FirstAddButton = ({ inputArray, buttonText }) => (\r\n\t<button\r\n\t\tonClick={event => {\r\n\t\t\tevent.preventDefault()\r\n\t\t\tinputArray.append({})\r\n\t\t}}\r\n\t>\r\n\t\t{buttonText}\r\n\t</button>\r\n)\r\n\r\nexport const AddButton = ({ inputArray, index }) => (\r\n\t<button\r\n\t\tonClick={event => {\r\n\t\t\tevent.preventDefault()\r\n\t\t\tinputArray.insert(index+1)\r\n\t\t}}\r\n\t>\r\n\t\tadd\r\n\t</button>\r\n)\r\n\r\nexport const DeleteButton = ({ inputArray, index }) => (\r\n\t<button\r\n\t\tonClick={() => inputArray.remove(index)}\r\n\t>\r\n\t\tdelete\r\n\t</button>\r\n)\r\n\r\nexport const MoveUpButton = ({ inputArray, index }) => (\r\n\t<button\r\n\t\tonClick={event => {\r\n\t\t\tevent.preventDefault()\r\n\t\t\tinputArray.swap(index, Math.max(0, index-1))\r\n\t\t}}\r\n\t>\r\n\t\tmove up\r\n\t</button>\r\n)\r\n\r\nexport const MoveDownButton = ({ inputArray, index }) => (\r\n\t<button\r\n\t\tonClick={event => {\r\n\t\t\tevent.preventDefault()\r\n\t\t\tinputArray.swap(index, Math.min(inputArray.fields.length-1, index+1))\r\n\t\t}}\r\n\t>\r\n\t\tmove down\r\n\t</button>\r\n)\r\n\r\nexport const ItemButtons = ({ inputArray, index }) => (\r\n\t<>\r\n\t\t<MoveUpButton\r\n\t\t\tinputArray={inputArray}\r\n\t\t\tindex={index}\r\n\t\t/>\r\n\t\t<MoveDownButton\r\n\t\t\tinputArray={inputArray}\r\n\t\t\tindex={index}\r\n\t\t/>\r\n\t\t<AddButton\r\n\t\t\tinputArray={inputArray}\r\n\t\t\tindex={index}\r\n\t\t/>\r\n\t\t<DeleteButton\r\n\t\t\tinputArray={inputArray}\r\n\t\t\tindex={index}\r\n\t\t/>\r\n\t</>\r\n)","import React, { useState } from 'react'\r\nimport { useForm, useFieldArray } from 'react-hook-form'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { createJournal, updateJournal, setDisplayedJournalId } from '../reducers/journalsReducer'\r\nimport { FirstAddButton, ItemButtons } from './buttons/JournalFormButtons'\r\n\r\nconst padding = {\r\n\tpadding: 12\r\n}\r\nconst AddAndUpdateJournal = () => {\r\n\tconst [error, setError] = useState(null)\r\n\r\n\tconst journals = useSelector(state => state.journalsRedux.journals)\r\n\tconst journalToUpdateId = useSelector(state => state.journalsRedux.journalToUpdateId)\r\n\tconst journalToUpdate = journalToUpdateId ? journals.find(journal => journal.id === journalToUpdateId) : null\r\n\r\n\tconst { register, control, handleSubmit, errors } = useForm({\r\n\t\tdefaultValues: journalToUpdate ? journalToUpdate : ''\r\n\t})\r\n\r\n\tconst todosInputArray = useFieldArray({\r\n\t\tcontrol,\r\n\t\tname: 'todos'\r\n\t})\r\n\r\n\tconst bookSummariesInputArray = useFieldArray({\r\n\t\tcontrol,\r\n\t\tname: 'book_summaries'\r\n\t})\r\n\r\n\tconst todayWordsInputArray = useFieldArray({\r\n\t\tcontrol,\r\n\t\tname: 'words_of_today'\r\n\t})\r\n\r\n\tconst dispatch = useDispatch()\r\n\r\n\tconst errorText = 'This field is required.'\r\n\r\n\tconst addAndUpdateJournal = data => {\r\n\t\tconst duplicatedDate = updateJournal\r\n\t\t\t? journals.find(journal => journal.date === data.date && journal.id !== journalToUpdateId)\r\n\t\t\t: journals.find(journal => journal.date === data.date)\r\n\t\tif (duplicatedDate) {\r\n\t\t\tif (journalToUpdate) {\r\n\t\t\t\tsetError(`A journal for ${data.date} already exists. Please choose another date for the edited journal.`)\r\n\t\t\t} else {\r\n\t\t\t\tsetError(`A journal for ${data.date} already exists. If you want to edit the journal for ${data.date}, please choose update function instead.`)\r\n\t\t\t}\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tconst journalObject = {\r\n\t\t\tdate: data.date,\r\n\t\t\ttodos: data.todos ? data.todos : [],\r\n\t\t\treflection: data.reflection,\r\n\t\t\tbook_summaries: data.book_summaries ? data.book_summaries : [],\r\n\t\t\twords_of_today: data.words_of_today ? data.words_of_today : []\r\n\t\t}\r\n\r\n\t\tjournalToUpdate\r\n\t\t\t? dispatch(updateJournal(journalToUpdateId, journalObject))\r\n\t\t\t: dispatch(createJournal(journalObject))\r\n\t}\r\n\r\n\tconst onCancel = () => {\r\n\t\tjournalToUpdate\r\n\t\t\t? dispatch(setDisplayedJournalId(journalToUpdateId))\r\n\t\t\t: dispatch(setDisplayedJournalId(journals[journals.length-1].id))\r\n\t}\r\n\r\n\treturn (\r\n\t\t<form onSubmit={handleSubmit(addAndUpdateJournal)}>\r\n\r\n\t\t\t<div style={padding}>\r\n\t\t\t\t<button type=\"submit\">save</button>\r\n\t\t\t\t<button type=\"reset\" onClick={onCancel}>cancel</button>\r\n\t\t\t</div>\r\n\t\t\t<span>{error}</span>\r\n\r\n\t\t\t<div>\r\n\t\t\t\t<h3>Date\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"date\"\r\n\t\t\t\t\t\tname=\"date\"\r\n\t\t\t\t\t\tref={register({ required: true })}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</h3>\r\n\t\t\t\t{errors.date && <span>{errorText}</span>}\r\n\t\t\t</div>\r\n\r\n\t\t\t<div>\r\n\t\t\t\t<h3>Todos</h3>\r\n\t\t\t\t{todosInputArray.fields.length === 0 &&\r\n\t\t\t\t\t<FirstAddButton\r\n\t\t\t\t\t\tinputArray={todosInputArray}\r\n\t\t\t\t\t\tbuttonText=\"add a task\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t}\r\n\r\n\t\t\t\t{todosInputArray.fields.map((item, index) => (\r\n\t\t\t\t\t<div key={item.id}>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\t\tname={`todos[${index}].done`}\r\n\t\t\t\t\t\t\tref={register()}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tname={`todos[${index}].task`}\r\n\t\t\t\t\t\t\tref={register({\r\n\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\tpattern: /[A-Za-z0-9]+/\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t<ItemButtons\r\n\t\t\t\t\t\t\tinputArray={todosInputArray}\r\n\t\t\t\t\t\t\tindex={index}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t))}\r\n\r\n\t\t\t\t{errors.todos && <span>{errorText}</span>}\r\n\t\t\t</div>\r\n\r\n\r\n\t\t\t<div>\r\n\t\t\t\t<h3>How is your day?</h3>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<textarea\r\n\t\t\t\t\t\tname=\"reflection\"\r\n\t\t\t\t\t\tref={register({ required: true })}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t{errors.reflection && <span>{errorText}</span>}\r\n\t\t\t</div>\r\n\r\n\t\t\t<div>\r\n\t\t\t\t<h3>Book Summaries</h3>\r\n\t\t\t\t{bookSummariesInputArray.fields.length === 0 &&\r\n\t\t\t\t\t<FirstAddButton\r\n\t\t\t\t\t\tinputArray={bookSummariesInputArray}\r\n\t\t\t\t\t\tbuttonText=\"add a summary\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t}\r\n\r\n\t\t\t\t{bookSummariesInputArray.fields.map((summary, index) => (\r\n\t\t\t\t\t<div key={summary.id} style={padding}>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\tTitle:\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tname={`book_summaries[${index}].title`}\r\n\t\t\t\t\t\t\t\tref={register({\r\n\t\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\t\tpattern: /[A-Za-z0-9]+/\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\tChapter:\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tname={`book_summaries[${index}].chapter`}\r\n\t\t\t\t\t\t\t\tref={register()}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<textarea\r\n\t\t\t\t\t\t\tplaceholder=\"chapter summary and your thoughts...\"\r\n\t\t\t\t\t\t\tname={`book_summaries[${index}].content`}\r\n\t\t\t\t\t\t\tref={register({\r\n\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\tpattern: /[A-Za-z0-9]+/\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t<ItemButtons\r\n\t\t\t\t\t\t\tinputArray={bookSummariesInputArray}\r\n\t\t\t\t\t\t\tindex={index}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t))}\r\n\r\n\t\t\t\t{errors.book_summaries && <span>{errorText}</span>}\r\n\t\t\t</div>\r\n\r\n\t\t\t<div>\r\n\t\t\t\t<h3>Words of the day</h3>\r\n\t\t\t\t{todayWordsInputArray.fields.length === 0 &&\r\n\t\t\t\t\t<FirstAddButton\r\n\t\t\t\t\t\tinputArray={todayWordsInputArray}\r\n\t\t\t\t\t\tbuttonText=\"add a word\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t}\r\n\r\n\t\t\t\t{todayWordsInputArray.fields.map((word, index) => (\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tkey={word.id}\r\n\t\t\t\t\t\tstyle={padding}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tplaceholder=\"Word\"\r\n\t\t\t\t\t\t\tname={`words_of_today[${index}].word`}\r\n\t\t\t\t\t\t\tref={register({\r\n\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\tpattern: /[A-Za-z0-9]+/\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tplaceholder=\"Definition...\"\r\n\t\t\t\t\t\t\tname={`words_of_today[${index}].definition`}\r\n\t\t\t\t\t\t\tref={register({\r\n\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\tpattern: /[A-Za-z0-9]+/\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t<ItemButtons\r\n\t\t\t\t\t\t\tinputArray={todayWordsInputArray}\r\n\t\t\t\t\t\t\tindex={index}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t))}\r\n\r\n\t\t\t\t{errors.words_of_today && <span>{errorText}</span>}\r\n\t\t\t</div>\r\n\r\n\t\t</form>\r\n\t)\r\n}\r\n\r\nexport default AddAndUpdateJournal","import React, { useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport DateList from './DateList'\r\nimport Journal from './Journal'\r\nimport AddAndUpdateJournal from './AddAndUpdateJournal'\r\nimport { deleteJournal, setDisplayedJournalId, setJournalToUpdateId } from '../reducers/journalsReducer'\r\n\r\nconst MasterDetail = () => {\r\n\tconst [displayForm, setDisplayForm] = useState(false)\r\n\r\n\tconst dispatch = useDispatch()\r\n\tconst journals = useSelector(state => state.journalsRedux.journals)\r\n\tconst displayedJournalId = useSelector(state => state.journalsRedux.displayedJournalId)\r\n\tconst displayedJournal = displayedJournalId ? journals.find(journal => journal.id === displayedJournalId) : null\r\n\r\n\tconst addJournal = () => {\r\n\t\tdispatch(setDisplayedJournalId(null))\r\n\t\tsetDisplayForm(true)\r\n\t}\r\n\r\n\tconst updateJournal = () => {\r\n\t\tdispatch(setJournalToUpdateId(displayedJournalId))\r\n\t\tsetDisplayForm(true)\r\n\t}\r\n\r\n\tconst detailHeader = () => {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t{(displayedJournal || !displayForm) &&\r\n\t\t\t\t\t<button onClick={addJournal}>write new journal</button>\r\n\t\t\t\t}\r\n\t\t\t\t{displayedJournal &&\r\n\t\t\t\t<>\r\n\t\t\t\t\t<button onClick={updateJournal}>update journal</button>\r\n\t\t\t\t\t<button onClick={() => dispatch(deleteJournal(displayedJournalId))}>delete journal</button>\r\n\t\t\t\t</>\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<h1>My Journal</h1>\r\n\t\t\t<div className=\"row\">\r\n\t\t\t\t<div className=\"col-3\">\r\n\t\t\t\t\t<DateList/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"col-9\">\r\n\t\t\t\t\t{detailHeader()}\r\n\t\t\t\t\t{displayedJournal\r\n\t\t\t\t\t\t? <Journal journal={displayedJournal}/>\r\n\t\t\t\t\t\t: displayForm\r\n\t\t\t\t\t\t\t? <AddAndUpdateJournal/>\r\n\t\t\t\t\t\t\t: <p>Write your first journal...</p>\r\n\t\t\t\t\t}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t</div>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default MasterDetail","import React from 'react'\r\nimport { useForm } from 'react-hook-form'\r\nimport { useDispatch } from 'react-redux'\r\nimport { userLogin } from '../reducers/loginReducer'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst Login = () => {\r\n\tconst dispatch = useDispatch()\r\n\r\n\tconst { register, handleSubmit, errors } = useForm()\r\n\r\n\tconst handleLogin = (data) => {\r\n\t\tdispatch(userLogin(data.username, data.password))\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h2>Login</h2>\r\n\r\n\t\t\t<form onSubmit={handleSubmit(handleLogin)}>\r\n\t\t\t\t<div>\r\n\t\t\t\t\tusername\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tname=\"username\"\r\n\t\t\t\t\t\tref={register({\r\n\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\tminLength: 4\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t{errors.username && <span>This field is required and needs at least 4 characters.</span>}\r\n\r\n\t\t\t\t<div>\r\n          password\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\tref={register({\r\n\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\tminLength: 4\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t{errors.password && <span>This field is required and needs at least 4 characters.</span>}\r\n\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<button type=\"submit\">login</button>\r\n\t\t\t\t\t<button >\r\n\t\t\t\t\t\t<Link to='/register'>register</Link>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Login","import axios from 'axios'\r\nconst baseUrl = '/api/users'\r\n\r\nconst register = async user => {\r\n\tconst response = await axios.post(baseUrl, user)\r\n\treturn response.data\r\n}\r\n\r\nexport default { register }","import React, { useState } from 'react'\r\nimport { useForm } from 'react-hook-form'\r\nimport userRegistrationService from '../services/userRegistrationService'\r\nimport { useHistory } from 'react-router-dom'\r\n\r\nconst UserRegistration = () => {\r\n\tconst [error, setError] = useState(null)\r\n\tconst history = useHistory()\r\n\r\n\tconst { register, handleSubmit, errors } = useForm()\r\n\r\n\tconst handleRegistration = async data => {\r\n\t\ttry {\r\n\t\t\tawait userRegistrationService.register(data)\r\n\t\t\thistory.push('/login')\r\n\t\t} catch (exception) {\r\n\t\t\tif (exception.response.data.error.includes('`username` to be unique')) {\r\n\t\t\t\tsetError('Username already exists. Choose another username.')\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h2>Registration</h2>\r\n\r\n\t\t\t<form onSubmit={handleSubmit(handleRegistration)}>\r\n\t\t\t\t<div>\r\n\t\t\t\t\tusername\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tname=\"username\"\r\n\t\t\t\t\t\tref={register({\r\n\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\tminLength: 4\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t{errors.username && <span>This field is required and needs at least 4 characters.</span>}\r\n\r\n\t\t\t\t<div>\r\n\t\t\t\t\tname\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tname=\"name\"\r\n\t\t\t\t\t\tref={register({\r\n\t\t\t\t\t\t\trequired: true\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t{errors.name && <span>This field is required.</span>}\r\n\r\n\t\t\t\t<div>\r\n          password\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\tref={register({\r\n\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\tminLength: 4\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t{errors.password && <span>This field is required and needs at least 4 characters.</span>}\r\n\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<button type=\"submit\">register</button>\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t\t{<span>{error}</span>}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default UserRegistration","import React, { useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport {\r\n\tBrowserRouter as Router,\r\n\tSwitch, Route, Link, Redirect\r\n} from 'react-router-dom'\r\nimport XEffectCalendar from './components/XEffectCalendar'\r\nimport MasterDetail from './components/MasterDetail'\r\nimport Login from './components/Login'\r\nimport journalService from './services/journalService'\r\nimport { initializeJournals } from './reducers/journalsReducer'\r\nimport { userLogout } from './reducers/loginReducer'\r\nimport UserRegistration from './components/UserRegistration'\r\n\r\nconst App = () => {\r\n\r\n\t// user object received from backend contains token, username and password\r\n\tconst user = useSelector(state => state.loginRedux)\r\n\tif (user) {\r\n\t\tjournalService.setToken(user.token)\r\n\t}\r\n\r\n\tconst dispatch = useDispatch()\r\n\tuseEffect(() => {\r\n\t\tdispatch(initializeJournals())\r\n\t}, [dispatch, user])\r\n\r\n\tconst padding = {\r\n\t\tpadding: 5\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"container\">\r\n\r\n\t\t\t<Router>\r\n\t\t\t\t{user &&\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Link style={padding} to=\"/calendar\">X Effect Calendar</Link>\r\n\t\t\t\t\t\t<Link style={padding} to=\"/journals\">Journals</Link>\r\n\t\t\t\t\t\t<button onClick={() => dispatch(userLogout())}>logout</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t\t<Switch>\r\n\t\t\t\t\t<Route path=\"/login\">\r\n\t\t\t\t\t\t{!user ? <Login/> : <Redirect to=\"/calendar\"/>}\r\n\t\t\t\t\t</Route>\r\n\t\t\t\t\t<Route path='/register'>\r\n\t\t\t\t\t\t<UserRegistration/>\r\n\t\t\t\t\t</Route>\r\n\t\t\t\t\t<Route path=\"/calendar\">\r\n\t\t\t\t\t\t{user ? <XEffectCalendar/> : <Redirect to=\"/login\"/>}\r\n\t\t\t\t\t</Route>\r\n\t\t\t\t\t<Route path=\"/journals\">\r\n\t\t\t\t\t\t{user ? <MasterDetail/> : <Redirect to=\"/login\"/>}\r\n\t\t\t\t\t</Route>\r\n\t\t\t\t</Switch>\r\n\t\t\t</Router>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default App\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport { Provider } from 'react-redux'\r\n\r\nimport './index.css'\r\nimport store from './store'\r\nimport App from './App'\r\n\r\nReactDOM.render(\r\n\t<Provider store={store}>\r\n\t\t<App />\r\n\t</Provider>,\r\n\tdocument.getElementById('root')\r\n)"],"sourceRoot":""}