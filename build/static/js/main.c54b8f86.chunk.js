(this["webpackJsonpmyjournal-official-frontend"]=this["webpackJsonpmyjournal-official-frontend"]||[]).push([[0],{40:function(e,t,n){e.exports=n(69)},49:function(e,t,n){},69:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),u=n(17),l=n.n(u),c=n(3),o=(n(49),n(13)),i=n(36),d=n(37),s=n(4),f=n.n(s),m=n(10),p=n(9),E=n(16),v=n.n(E),b="http://localhost:3001/api/journals",h={getAll:function(){var e=Object(m.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get(b);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),createJournal:function(){var e=Object(m.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.post(b,t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),updateJournal:function(){var e=Object(m.a)(f.a.mark((function e(t,n){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.put("".concat(b,"/").concat(t),n);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),deleteJournal:function(){var e=Object(m.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.delete("".concat(b,"/").concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},j={journals:[],displayedJournalId:null},y=function(e){return{type:"SET_DISPLAYED_JOURNAL",id:e}},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_JOURNALS":return{journals:t.data,displayedJournalId:t.data.length>0?t.data[t.data.length-1].id:null};case"CREATE_JOURNAL":var n=e.journals.concat(t.data).sort((function(e,t){return e.date>t.date?1:-1}));return{journals:n,displayedJournalId:t.data.id};case"UPDATE_JOURNAL":return Object(p.a)({},e,{journals:e.journals.map((function(e){return e.id===t.data.id?t.data:e}))});case"DELETE_JOURNAL":for(var a=null,r=0;r<e.journals.length;r++){var u=e.journals[r];if(u.id===t.id){if(r<e.journals.length-1){a=e.journals[r+1].id;break}if(r>0){a=e.journals[r-1].id;break}}}return{journals:e.journals.filter((function(e){return e.id!==t.id})),displayedJournalId:a};case"SET_DISPLAYED_JOURNAL":return Object(p.a)({},e,{displayedJournalId:t.id});default:return e}},g=Object(o.combineReducers)({journalsRedux:O}),k=Object(o.createStore)(g,Object(i.composeWithDevTools)(Object(o.applyMiddleware)(d.a))),w=n(19),x=n(12),J=n(39),C=function(){var e=Object(c.c)((function(e){return e.journalsRedux.journals})),t=[];e.length>0&&e.map((function(e){if(0===e.todos.filter((function(e){return!e.done})).length){var n=new Date(e.date);n.setMinutes(n.getTimezoneOffset()),t.push(n)}return null}));return r.a.createElement(J.a,{tileClassName:function(e){var n=e.date,a=0;if("month"===e.view)for(var r=a;r<t.length;r++){var u=t[r];if(u.getTime()===n.getTime())return a++,"cross-off-day";u.getTime()<n.getTime()&&a++}return null}})},T=function(){var e=Object(c.b)(),t=Object(c.c)((function(e){return e.journalsRedux.journals}));return r.a.createElement("ul",null,t&&t.length>0&&t.map((function(t){return r.a.createElement("div",{key:t.id,onClick:function(){return e(y(t.id))}},t.date)})))},_=function(e){var t=e.todo,n=Object(c.b)(),a=Object(c.c)((function(e){return e.journalsRedux.journals})),u=Object(c.c)((function(e){return e.journalsRedux.displayedJournalId}));return r.a.createElement("div",null,r.a.createElement("input",{type:"checkbox",checked:t.done,onChange:function(){var e,r,l=u?a.find((function(e){return e.id===u})):null,c=Object(p.a)({},t,{done:!t.done}),o=l.todos.map((function(e){return e.id===t.id?c:e})),i=Object(p.a)({},l,{todos:o});n((e=u,r=i,function(){var t=Object(m.a)(f.a.mark((function t(n){var a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.updateJournal(e,r);case 2:a=t.sent,n({type:"UPDATE_JOURNAL",data:a});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))}}),r.a.createElement("label",null,t.task))},R=function(e){var t=e.bookSummary;return r.a.createElement("li",null,r.a.createElement("strong",null,t.title),": Chapter ",r.a.createElement("i",null,t.chapter)," ",r.a.createElement("br",null),t.content)},A=function(e){var t=e.vocabulary;return r.a.createElement("li",null,r.a.createElement("strong",null,t.word),": ",t.definition)},N=function(e){var t=e.journal;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("h2",null,t.date)),0!==t.todos.length&&r.a.createElement("div",null,r.a.createElement("h3",null,"Todos"),r.a.createElement("ul",null,t.todos.map((function(e){return r.a.createElement(_,{key:e.id,todo:e})})))),r.a.createElement("div",null,r.a.createElement("h3",null,"How is your day?"),t.reflection),0!==t.book_summaries.length&&r.a.createElement("div",null,r.a.createElement("h3",null,"Book Summary"),r.a.createElement("ul",null,t.book_summaries.map((function(e){return r.a.createElement(R,{key:e.id,bookSummary:e})})))),0!==t.words_of_today.length&&r.a.createElement("div",null,r.a.createElement("h3",null,"Words of Today"),r.a.createElement("ul",null,t.words_of_today.map((function(e){return r.a.createElement(A,{key:e.id,vocabulary:e})})))))},S=n(14),D=function(e){return 0===e.length||void 0===e[e.length-1].id?0:e[e.length-1].id+1},I={padding:12},L=function(){var e=Object(a.useState)(""),t=Object(S.a)(e,2),n=t[0],u=t[1],l=Object(a.useState)([]),o=Object(S.a)(l,2),i=o[0],d=o[1],s=Object(a.useState)(""),E=Object(S.a)(s,2),v=E[0],b=E[1],j=Object(a.useState)([]),y=Object(S.a)(j,2),O=y[0],g=y[1],k=Object(a.useState)([]),w=Object(S.a)(k,2),x=w[0],J=w[1],C=Object(c.b)(),T=function(e,t){return function(n){var a=i.find((function(t){return t.id===e})),r="done"===t?Object(p.a)({},a,{done:n.target.checked}):Object(p.a)({},a,{task:n.target.value});d(i.map((function(t){return t.id!==e?t:r})))}},_=function(e,t){return function(n){var a=O.find((function(t){return t.id===e})),r=Object(p.a)({},a);r[t]=n.target.value,g(O.map((function(t){return t.id!==e?t:r})))}},R=function(e,t){return function(n){var a=x.find((function(t){return t.id===e})),r=Object(p.a)({},a);r[t]=n.target.value,J(x.map((function(t){return t.id!==e?t:r})))}};return r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),C(function(e){return function(){var t=Object(m.a)(f.a.mark((function t(n){var a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.createJournal(e);case 2:a=t.sent,n({type:"CREATE_JOURNAL",data:a});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}({date:n,todos:i,reflection:v,book_summaries:O,words_of_today:x}))}},r.a.createElement("h2",null,"Journal for Today"),r.a.createElement("div",null,r.a.createElement("h3",null,"Date",r.a.createElement("input",{type:"date",value:n,onChange:function(e){return u(e.target.value)}}))),r.a.createElement("div",null,r.a.createElement("h3",null,"Todos"),r.a.createElement("button",{onClick:function(e){e.preventDefault(),d(i.concat({id:D(i),done:!1,task:""}))}},"add a task")," ",r.a.createElement("br",null),i.map((function(e){return r.a.createElement("div",{key:e.id},r.a.createElement("input",{type:"checkbox",checked:e.done,onChange:T(e.id,"done")}),r.a.createElement("input",{value:e.task,onChange:T(e.id,"task")}),r.a.createElement("button",{onClick:function(){return t=e.id,void d(i.filter((function(e){return e.id!==t})));var t}},"delete"))}))),r.a.createElement("div",null,r.a.createElement("h3",null,"How is your day?"),r.a.createElement("textarea",{value:v,onChange:function(e){b(e.target.value)}})),r.a.createElement("div",null,r.a.createElement("h3",null,"Book Summaries"),r.a.createElement("button",{onClick:function(e){e.preventDefault(),g(O.concat({id:D(O),title:"",chapter:"",content:""}))}},"add a summary")," ",r.a.createElement("br",null),O.map((function(e){return r.a.createElement("div",{key:e.id,style:I},r.a.createElement("div",null,"Title:",r.a.createElement("input",{value:e.title,onChange:_(e.id,"title")}),"Chapter:",r.a.createElement("input",{value:e.chapter,onChange:_(e.id,"chapter")})),r.a.createElement("textarea",{placeholder:"chapter summary and your thoughts...",value:e.content,onChange:_(e.id,"content")}),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){return t=e.id,void g(O.filter((function(e){return e.id!==t})));var t}},"delete"))}))),r.a.createElement("div",null,r.a.createElement("h3",null,"Words of the day"),r.a.createElement("button",{onClick:function(e){e.preventDefault(),J(x.concat({id:D(x),word:"",definition:""}))}},"add a word"),x.map((function(e){return r.a.createElement("div",{key:e.id,style:I},r.a.createElement("input",{placeholder:"Word",value:e.word,onChange:R(e.id,"word")}),r.a.createElement("input",{placeholder:"Definition...",value:e.definition,onChange:R(e.id,"definition")}),r.a.createElement("button",{onClick:function(){return t=e.id,void J(x.filter((function(e){return e.id!==t})));var t}},"delete"))}))),r.a.createElement("div",{style:I},r.a.createElement("button",{type:"submit"},"save")))},U=function(){var e=Object(c.b)(),t=Object(c.c)((function(e){return e.journalsRedux.journals})),n=Object(c.c)((function(e){return e.journalsRedux.displayedJournalId})),a=n?t.find((function(e){return e.id===n})):null;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"My Journal"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-3"},r.a.createElement(T,null)),r.a.createElement("div",{className:"col-9"},a&&r.a.createElement("button",{onClick:function(){return e(y(null))}},"write new journal"),a&&r.a.createElement("button",{onClick:function(){return e((t=n,function(){var e=Object(m.a)(f.a.mark((function e(n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.deleteJournal(t);case 2:n({type:"DELETE_JOURNAL",id:t});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));var t}},"delete journal"),a&&r.a.createElement(N,{journal:a}),!a&&r.a.createElement(L,null))))},P=function(){var e=Object(c.b)();Object(a.useEffect)((function(){e(function(){var e=Object(m.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.getAll();case 2:(n=e.sent).sort((function(e,t){return e.date>t.date?1:-1})),t({type:"INIT_JOURNALS",data:n});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[e]);var t={padding:5};return r.a.createElement("div",{className:"container"},r.a.createElement(w.a,null,r.a.createElement("div",null,r.a.createElement(w.b,{style:t,to:"/calendar"},"X Effect Calendar"),r.a.createElement(w.b,{style:t,to:"/journals"},"Journals")),r.a.createElement(x.c,null,r.a.createElement(x.a,{path:"/calendar"},r.a.createElement(C,null)),r.a.createElement(x.a,{path:"/journals"},r.a.createElement(U,null)))))};l.a.render(r.a.createElement(c.a,{store:k},r.a.createElement(P,null)),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.c54b8f86.chunk.js.map